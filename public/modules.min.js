//////////////////////////////////////////////////////////////////////////////80
// Minification / Creation Time: 2022-03-01 21:18:05
//////////////////////////////////////////////////////////////////////////////80
// Copyright (c) 2020 Liam Siira (liam@siira.io), distributed as-is and without
// warranty under the MIT License. See [root]/docs/LICENSE.md for more.
// This information must remain intact.
//////////////////////////////////////////////////////////////////////////////80

//////////////////////////////////////////////////////////////////////////////80
// modules/system.js 
//////////////////////////////////////////////////////////////////////////////80
(function(){let running=!1;window.atheos={path:window.location.href,controller:'controller.php',dialog:'dialog.php',init:function(){window.addEventListener('error',atheos.error);if(running)return;running=!0;carbon.publish('system.loadVital');if(!(oX('#login').exists()||oX('#installer').exists())){carbon.publish('system.loadMajor');carbon.publish('system.loadMinor');carbon.publish('system.loadExtra');atheos.settings.init()}else{Synthetic.init();if(oX('#installer').exists()){atheos.install.init()}else{atheos.user.init()}}
log(['   _____   __   __                        ','  /  _  \\_/  |_|  |__   ____  ____  ______',' /  /_\\  \\   __\\  |  \\_/ __ \\/  _ \\/  ___/','/    |    \\  | |   Y  \\  ___(  <_> )___ \\ ','\\____|__  /__| |___|  /\\___  >____/____  >','        \\/          \\/     \\/          \\/ '].join('\n'))}};document.addEventListener('DOMContentLoaded',atheos.init)})();

//////////////////////////////////////////////////////////////////////////////80
// modules/alert.js 
//////////////////////////////////////////////////////////////////////////////80
(function(){'use strict';const self={active:[],create:function(){var element=oX('<div>');element.attr('id','alert_'+self.active.length);document.body.appendChild(element.element);element.addClass('alert');self.active.push(element);return element},show:function(options){if(!options||typeof options!=='object')return;atheos.common.showOverlay('alert');let element=self.create();element.show();if(options.banner){element.append(document.createElement('h1'));element.find('h1').text(i18n(options.banner))}
if(options.data){element.append(document.createElement('pre'));element.find('pre').text(i18n(options.data))}
if(options.message){element.append(document.createElement('h2'));element.find('h2').text(i18n(options.message))}
if(options.actions){var actions=oX('<div>');actions.addClass('actions');element.append(actions);for(var key in options.actions){let button=document.createElement('button');let callback=options.actions[key];button.innerText=i18n(key);button.addEventListener('click',function(){callback();self.unload(element)});actions.append(button)}}
element.css({'top':'15%','left':'calc(50% - '+(element.width()/2)+'px)',})},unload:function(element){if(!element)return;element.remove();const index=self.active.indexOf(element);if(index>-1)self.active.splice(index,1);if(self.active.length===0)atheos.common.hideOverlay()},unloadAll:function(){atheos.common.hideOverlay();var i=self.active.length;while(--i>=0){let el=self.active[i];el.remove();self.active.splice(i,1)}}};atheos.alert=self})();

//////////////////////////////////////////////////////////////////////////////80
// modules/flow.js 
//////////////////////////////////////////////////////////////////////////////80
(function(){'use strict';const self={slide:function(direction,target,duration=500){target.style.overflow='hidden';target.style.transitionProperty='height, margin, padding';target.style.transitionDuration=duration+'ms';var zeroStyles=function(){target.style.height=0;target.style.paddingTop=0;target.style.paddingBottom=0;target.style.marginTop=0;target.style.marginBottom=0};if(direction==='open'){target.style.removeProperty('display');var display=window.getComputedStyle(target).display;display=display==='none'?'block':display;target.style.display=display;var height=target.offsetHeight;zeroStyles();target.offsetHeight;target.style.boxSizing='border-box';target.style.height=height+'px';target.style.removeProperty('padding-top');target.style.removeProperty('padding-bottom');target.style.removeProperty('margin-top');target.style.removeProperty('margin-bottom');window.setTimeout(()=>{target.setAttribute('style','')},duration)}else if(direction==='close'||direction==='remove'){target.style.boxSizing='border-box';target.style.height=target.offsetHeight+'px';target.offsetHeight;zeroStyles();window.setTimeout(()=>{target.setAttribute('style','');target.style.display='none';if(direction==='remove'){target.remove()}},duration)}},fade:function(direction,target,duration=500){target.style.transitionProperty='opacity';target.style.transitionDuration=duration+'ms';var zeroStyles=function(){target.style.opacity=0;target.style.removeProperty('display')};if(direction==='in'){zeroStyles();target.offsetHeight;target.style.opacity=1;window.setTimeout(()=>{target.style.removeProperty('opacity')},duration)}else if(direction==='out'||direction==='remove'){zeroStyles();window.setTimeout(()=>{target.style.display='none';if(direction==='remove'){target.remove()}},duration)}}};atheos.flow=self})();

//////////////////////////////////////////////////////////////////////////////80
// modules/chrono.js 
//////////////////////////////////////////////////////////////////////////////80
(function(){let msReg=/(\d+)([mshd]+)/g,msUnt={s:1000,m:60000,h:3600000,d:86400000};window.ms=(val)=>{let test=[...val.toLowerCase().matchAll(msReg)],ms=0,unit;for(unit of test){ms+=unit[1]*msUnt[unit[2]]}
return ms};window.chrono={byte:setInterval(()=>carbon.pub('chrono.byte'),100),kilo:setInterval(()=>carbon.pub('chrono.kilo'),1000),mega:setInterval(()=>carbon.pub('chrono.mega'),10000),giga:setInterval(()=>carbon.pub('chrono.giga'),100000),tera:setInterval(()=>carbon.pub('chrono.tera'),300000)}}());

//////////////////////////////////////////////////////////////////////////////80
// modules/common.js 
//////////////////////////////////////////////////////////////////////////////80
(function(){'use strict';const node={init:function(){node.initDropdown();node.initTogglePassword();node.initPasswordMonitor();node.initCheckMonitors();node.initOverlay()},optionMenus:[],initMenuHandler:function(buttonID,menuID,switchClasses){var menuOpen=!1;let menu=oX(menuID);menu.close=function(){if(menuOpen){if(isArray(switchClasses)){$(buttonID).replaceClass(switchClasses[+menuOpen],switchClasses[+!menuOpen])}
atheos.flow.slide('close',menu.element);window.removeEventListener('click',menu.close);menuOpen=!1}};this.optionMenus.push(menu);fX(buttonID).on('click',(e)=>{e.stopPropagation();this.closeMenus(menu);if(isArray(switchClasses)){$(buttonID).replaceClass(switchClasses[+menuOpen],switchClasses[+!menuOpen])}
if(menuOpen){menu.close()}else{atheos.flow.slide('open',menu.element);menuOpen=!0;window.addEventListener('click',menu.close)}})},closeMenus:function(exclude){this.optionMenus.forEach((menu)=>{if(menu!==exclude){menu.close()}})},initDropdown:function(){var close=function(){oX('dropdown.expanded').removeClass('expanded');fX('dropdown').off('click')};fX('dropdown').on('click',function(e){e.preventDefault();e.stopPropagation();var target=oX(e.target),parent=target.parent('dropdown');parent.addClass('expanded');oX('#'+target.attr('for')).prop('checked',!0);window.addEventListener('click',close)})},initTogglePassword:function(){fX('i.togglePassword').on('click',function(e){var icon=$(e.target);var field=icon.sibling('input[name="'+icon.attr('for')+'"]');if(!field)return;if(field.prop('type')==='password'){field.prop('type','text')}else{field.prop('type','password')}
icon.switchClass('fa-eye','fa-eye-slash')})},initPasswordMonitor:function(){let reqs={lowercase:/[a-z]/,uppercase:/[A-Z]/,numeric:/[0-9]/,symbols:/[^\w\s|_]/};let testStrength=throttle(function(e){if(oX('#login'))return;let input=oX(e.target),pwd=input.value(),str=+(pwd.length>8);if(!pwd)return;input.removeClass();for(let k in reqs){str+=+(reqs[k].test(pwd))}
input.addClass('cat'+str)},250);fX('input[name="password"],input[name="validate"]').on('change, input',testStrength)},initCheckMonitors:function(){fX('input[type="checkbox"][group]').on('click',function(e){var input=oX(e.target);var members=oX(document).findAll('input[type="checkbox"][group="'+input.attr('group')+'"]');var checked=input.prop('checked');if(input.attr('parent')){members.forEach((c)=>c.prop('checked',checked))}
var parent=members.filter((c)=>c.attr('parent'))[0];if(!checked){parent.prop('checked',checked)}else{var allChecked=!0;members.forEach((c)=>{if(c!==parent){allChecked=allChecked&&(c.prop('checked')===!0)}});parent.prop('checked',allChecked)}})},overlay:null,initOverlay:function(){node.overlay=oX('overlay')},showOverlay:function(type,hidden){if(!hidden)node.overlay.addClass('active');if(type==='alert'){node.overlay.on('click',atheos.alert.unloadAll)}else{node.overlay.on('click',atheos.modal.unload)}
return node.overlay},hideOverlay:function(){node.overlay.removeClass('active');node.overlay.hide()},isAbsPath:function(path){return path.indexOf('/')===0},scriptCache:[],loadScript:function(url,callback){if(node.scriptCache.includes(url)){if(typeof callback==='function'){callback.call(this)}}else{this.scriptCache.push(url);var script=document.createElement('script');script.type='text/javascript';script.src=url;document.getElementsByTagName('head')[0].appendChild(script);if(typeof callback==='function'){callback.call(this)}}}};carbon.subscribe('system.loadVital',()=>node.init());atheos.common=node})();

//////////////////////////////////////////////////////////////////////////////80
// modules/i18n.js 
//////////////////////////////////////////////////////////////////////////////80
(function(){'use strict';const node={cache:{},init:function(){window.i18n=Function.prototype.bind.call(node.translate);echo({data:{target:'i18n',action:'init'},settled:function(status,reply){if(status!=='success')return;node.cache=reply.cache}})},translate:function(string,args){if(!node.cache)return string;let result=string in node.cache?node.cache[string]:string;return args?result.replace('%s',args):result}};carbon.subscribe('system.loadVital',()=>node.init());atheos.i18n=node})();

//////////////////////////////////////////////////////////////////////////////80
// modules/keybind.js 
//////////////////////////////////////////////////////////////////////////////80
(function(){'use strict';let bindings={};const node={init:function(){document.addEventListener('keydown',node.handler);node.bind(27,!1,atheos.modal.unload);node.bind(83,'ctrl',atheos.active.save);node.bind(79,'ctrl',atheos.filemanager.openInBrowser);node.bind(69,'ctrl',atheos.scout.openSearch);node.bind(81,'ctrl',atheos.active.close);node.bind(70,'ctrl',function(){let editor=atheos.editor.activeInstance;editor.execCommand('find')});node.bind(71,'ctrl',function(){let editor=atheos.editor.activeInstance;editor.execCommand('gotoline')});node.bind(82,'ctrl',function(){let editor=atheos.editor.activeInstance;editor.execCommand('replace')});node.bind(38,'ctrl',function(){atheos.active.move('up')});node.bind(40,'ctrl',function(){atheos.active.move('down')});node.bind(77,'ctrl',function(){let activeSession=atheos.editor.getSession();atheos.editor.exterminate();atheos.editor.addInstance(activeSession)});node.bind(186,'ctrl',function(){atheos.editor.addInstance(atheos.editor.getSession(),'right')});node.bind(186,'alt',function(){atheos.editor.addInstance(atheos.editor.getSession(),'bottom')})},bind:function(key,cmd,callback,args){let data={args:args||[],cmd:cmd?cmd.split(' '):[],callback};(bindings[key]=bindings[key]||[]).push(data)},rebind:function(oldKey,newKey){if(oldKey in bindings)delete bindings[oldKey];bindings[newKey]=bindings[oldKey]},handler:function(e){if(!(e.keyCode in bindings))return;bindings[e.keyCode].forEach(function(bind){if(bind.cmd.includes('alt')!==e.altKey)return;if(bind.cmd.includes('ctrl')!==(e.ctrlKey||e.metaKey))return;if(bind.cmd.includes('shift')!==e.shiftKey)return;e.preventDefault();e.stopPropagation();bind.callback.apply(this,bind.args)})}};carbon.subscribe('system.loadMinor',()=>node.init());atheos.keybind=node})();

//////////////////////////////////////////////////////////////////////////////80
// modules/modal.js 
//////////////////////////////////////////////////////////////////////////////80
(function(){'use strict';const self={modalVisible:!1,fadeDuration:500,init:function(){fX('#dialog .close').on('click',self.unload);fX('#dialog .drag').on('mousedown',self.drag)},create:function(){let html='<div id="dialog"><i class="close fas fa-times-circle"></i><i class="drag fas fa-arrows-alt"></i><section id="content"></section></div>';let div=document.createElement('div');div.innerHTML=html;let wrapper=oX(div.firstChild);document.body.appendChild(wrapper.element);return wrapper},load:function(width,data){data=data||{};width=width>400?width:400;let callback,listener;if(data.callback&&isFunction(data.callback)){callback=data.callback;delete data.callback}
if(data.listener&&isFunction(data.listener)){listener=data.listener;delete data.listener}
var overlay=atheos.common.showOverlay('modal',!0),dialog=oX('#dialog').exists()||self.create(),content=oX('#content');if(content)content.html('');dialog.css({'top':'15%','left':'calc(50% - '+(width/2)+'px)','min-width':width+'px','height':''});dialog.attr('target',data.target);dialog.attr('action',data.action);var loadTimeout;if(self.modalVisible){loadTimeout=setTimeout(self.setLoadingScreen,1000)}
echo({url:data.url||atheos.dialog,data:data,settled:function(status,reply){if(status!=='success')return;clearTimeout(loadTimeout);content.html(reply);content.css('height','');var input=dialog.find('input[autofocus="autofocus"]');if(input)input.focus();if(listener&&dialog.find('form')){fX('#dialog form').on('submit',listener)}
if(callback){callback(dialog)}
carbon.publish('dialog.loaded')}});if(!self.modalVisible){atheos.flow.fade('in',dialog.element,self.fadeDuration);atheos.flow.fade('in',overlay.element,self.fadeDuration)}
self.modalVisible=!0},resize:function(){var wrapper=oX('#modal_wrapper');if(wrapper){var width=wrapper.clientWidth();wrapper.css({'top':'15%','left':'calc(50% - '+(width/2)+'px)','min-width':width+'px'})}},unload:function(e){carbon.publish('modal.unload');var form=oX('#dialog form'),overlay=oX('#overlay'),wrapper=oX('#dialog'),content=oX('#content');fX('#dialog form').off('*');if(overlay.exists()){atheos.flow.fade('remove',overlay.element,self.fadeDuration)}
if(wrapper.exists()){atheos.flow.fade('out',wrapper.element,self.fadeDuration)}
if(content.exists()){content.off('*');setTimeout(content.empty,(self.fadeDuration+100))}
self.modalVisible=!1;atheos.editor.focus()},setLoadingScreen:function(text){text=text||'Loading...';var wrapText='';for(var i=0;i<text.length;i++){wrapText+='<em>'+text.charAt(i)+'</em>'}
var loading=`
			<div class="loader">
			<div class="ring"></div>
			<div class="ring"></div>
			<div class="dot"></div>
			<h2>${wrapText}</h2>
			</div>
			`;loading=`<div class="loader"><h2>${wrapText}</h2><span class="dual-ring"></span></div>`;var screen=oX('#content');screen.css('height',screen.height()+'px');screen.html(loading)},drag:function(e){let element=e.target.closest('#dialog'),wrapper=oX(element),drag=oX(e.target);if(!wrapper)return;drag.addClass('active');let rect=wrapper.offset(),mouseX=window.event.clientX,mouseY=window.event.clientY,modalX=rect.left,modalY=rect.top;let newX=0,newY=0,minY=1,minX=1,maxY=document.body.clientHeight-wrapper.height(),maxX=document.body.clientWidth-wrapper.width();function moveElement(event){newX=modalX+event.clientX-mouseX;newY=modalY+event.clientY-mouseY;element.style.left=(newX>maxX?maxX:(newX<minX?minX:newX))+'px';element.style.top=(newY>maxY?maxY:(newY<minY?minY:newY))+'px'}
function disableSelect(e){e.preventDefault()}
function removeListeners(){document.removeEventListener('mousemove',moveElement,!1);document.removeEventListener('mouseup',removeListeners,!1);window.removeEventListener('selectstart',disableSelect);drag.removeClass('active')}
document.addEventListener('mousemove',moveElement,!1);document.addEventListener('mouseup',removeListeners,!1);window.addEventListener('selectstart',disableSelect)}};carbon.subscribe('system.loadMinor',()=>self.init());atheos.modal=self})();

//////////////////////////////////////////////////////////////////////////////80
// modules/output.js 
//////////////////////////////////////////////////////////////////////////////80
(function(){'use strict';const self={container:null,location:'bottom left',stayTimes:{success:3000,error:10000,warning:5000,notice:3000,},init:function(){self.container=oX('output');carbon.subscribe('settings.loaded',function(){let local=storage('output.location');self.location=local!==null?local:self.location;self.container.addClass(self.location);for(let key in self.stayTimes){local=storage('output.stay.'+key);self.stayTimes[key]=local!==null?local:self.stayTimes[key]}});fX('result').on('click',(e)=>{let result=e.target.closest('result');self.hide(result)})},setLocation:function(value){self.container.removeClass(self.location);self.location=value;self.container.addClass(self.location)},create:function(type,text){var html=`<result><pre class="${ type }"><code>${ text }</code></pre></result>`;let div=document.createElement('div');div.innerHTML=html;return div.firstChild},showResult:function(type,text,stayTime){var result=self.create(type,text);if(self.location.includes('bottom')){self.container.append(result)}else{self.container.prepend(result)}
setTimeout(function(){result.classList.add('active');if(stayTime)setTimeout(()=>self.hide(result),stayTime)},10)},show:function(type,text,raw){if(isObject(type)){text=type.text||type.message;raw=type.raw||!1;type=type.status}
if(isObject(text)){text=text.text}
if(!(type in self.stayTimes))return;text=text||'Message undefined.';text=raw?text:i18n(text);self.showResult(type,text,self.stayTimes[type])},hide:function(result){result.classList='';result.addEventListener('transitionend',result.remove)}};carbon.subscribe('system.loadVital',()=>self.init());atheos.output=self;window.output=atheos.output.show})();

//////////////////////////////////////////////////////////////////////////////80
// modules/splitview.js 
//////////////////////////////////////////////////////////////////////////////80
(function(){'use strict';const node={splitMenuOpen:!1,init:function(){atheos.common.initMenuHandler('#split','#split_menu');fX('#split-vertically').on('click',function(e){atheos.editor.addInstance(atheos.editor.activeInstance.getSession(),'bottom')});fX('#split-horizontally').on('click',function(e){atheos.editor.addInstance(atheos.editor.activeInstance.getSession(),'right')});fX('#merge-all').on('click',function(e){var activeSession=atheos.editor.activeInstance.getSession();atheos.editor.exterminate();atheos.editor.addInstance(activeSession)})}};carbon.subscribe('system.loadMinor',()=>node.init());atheos.splitview=node})();var separatorWidth=5;function SplitContainer(parent,children,splitType){var self=this,Q=self.helper;self.parent=parent;self.splitType=splitType;self.splitProp=0.5;self.border=Q(document.createElement('div'));if(splitType==='horizontal'){self.border.dom.classList.add('splitter','h-splitter');self.border.width(separatorWidth);self.border.height(Q(self.parent).height())}else if(splitType==='vertical'){self.border.dom.classList.add('splitter','v-splitter');self.border.height(separatorWidth);self.border.width(Q(self.parent).width())}
self.parent.append(self.border.dom);self.setChild(0,children[0]);self.setChild(1,children[1]);self.border.on('mousedown',(e)=>self.drag(e));Q(self.parent).on('h-resize',(e)=>self.resize(e,'width'));Q(self.parent).on('v-resize',(e)=>self.resize(e,'height'));Q(self.parent).trigger('h-resize');Q(self.parent).trigger('v-resize')}
SplitContainer.prototype={setChild:function(splitID,element){var self=this,Q=self.helper;if(element instanceof SplitContainer){element.splitID=splitID;element=element.parent}
if(splitID===0){self.cMajor=Q(element)}else{self.cMinor=Q(element)}
self.parent.append(element);Q(element).top(0);Q(element).left(0);Q(self.parent).trigger('h-resize');Q(self.parent).trigger('v-resize')},resize:function(event,type){var self=this;var s0,s1,s2;s0=self.helper(self.parent)[type]();s1=s0*self.splitProp-separatorWidth/2;s2=s0*(1-self.splitProp)-separatorWidth/2;if(self.splitType==='horizontal'&&type==='width'){self.cMajor.width(s1);self.cMinor.width(s2);self.cMinor.left(s1+separatorWidth);self.border.left(s1)}else if(self.splitType==='vertical'&&type==='height'){self.cMajor.height(s1);self.cMinor.height(s2);self.cMinor.top(s1+separatorWidth);self.border.top(s1)}else{self.cMajor[type](s0);self.cMinor[type](s0);self.border[type](s0)}
self.cMajor.trigger(event.type);self.cMinor.trigger(event.type)},drag:function(event){var self=this,Q=self.helper;var border=event.target,mouseX=window.event.clientX,mouseY=window.event.clientY,splitX=border.offsetLeft,splitY=border.offsetTop;var rHeight=Q(self.parent).height();var rWidth=Q(self.parent).width();var timeout=!1;var moveElement=throttle(function(event){var left=splitX+event.clientX-mouseX,top=splitY+event.clientY-mouseY;border.style.left=self.splitType==='horizontal'?left+'px':'';border.style.top=self.splitType==='vertical'?top+'px':'';if(self.splitType==='horizontal'){var percent=left/rWidth;percent=percent<0.1?0.1:percent;percent=percent>0.9?0.9:percent;self.splitProp=percent;Q(self.parent).trigger('h-resize')}else{self.splitProp=top/rHeight;Q(self.parent).trigger('v-resize')}},10);function disableSelect(event){event.preventDefault()}
function removeListeners(){document.removeEventListener('mousemove',moveElement,!1);document.removeEventListener('mouseup',removeListeners,!1);window.removeEventListener('selectstart',disableSelect)}
document.addEventListener('mousemove',moveElement,!1);document.addEventListener('mouseup',removeListeners,!1);window.addEventListener('selectstart',disableSelect)},helper:function(element){let raw={'display':element.style.display,'visibility':element.style.visibility,'opacity':element.style.opacity};let setCSS=(o)=>{const entries=Object.entries(o);for(const[key,value]of entries){element.style[key]=value}};let setSize=(t,v)=>{if(v){element.style[t]=v+'px'}
setCSS({'display':'block','visibility':'hidden','opacity':0});var computedStyle=window.getComputedStyle(element);var size=parseFloat(computedStyle[t].replace('px',''));setCSS(raw);return size};let triggerEvent=(type)=>{return element.dispatchEvent(new CustomEvent(type,{bubbles:!1,cancelable:!0}))};let updateListener=(type,fnc,change)=>{type=type.split(',');type.forEach((t)=>{t=t.trim();if(change==='add'){element.addEventListener(t,fnc)}else{element.removeEventListener(t,fnc)}})};return{top:(v)=>element.style.top=v+'px',left:(v)=>element.style.left=v+'px',right:(v)=>element.style.right=v+'px',bottom:(v)=>element.style.bottom=v+'px',width:(v)=>setSize('width',v),height:(v)=>setSize('height',v),on:(t,f)=>updateListener(t,f,'add'),off:(t,f)=>updateListener(t,f,'remove'),trigger:(t)=>triggerEvent(t),dom:element}}};

//////////////////////////////////////////////////////////////////////////////80
// modules/toast.js 
//////////////////////////////////////////////////////////////////////////////80
(function(){'use strict';const self={container:null,location:'bottom right',stayTimes:{success:3000,error:10000,warning:5000,notice:3000,},init:function(){self.container=oX('toaster');carbon.subscribe('settings.loaded',function(){let local=storage('toast.location');self.location=local!==null?local:self.location;self.container.addClass(self.location);for(let key in self.stayTimes){local=storage('toast.stay.'+key);self.stayTimes[key]=local!==null?local:self.stayTimes[key]}});fX('toast').on('click',(e)=>{let toast=e.target.closest('toast');self.hide(toast)})},setLocation:function(value){self.container.removeClass(self.location);self.location=value;self.container.addClass(self.location)},create:function(type,text){var html=`<toast><i class="${ type } fas fa-circle"></i><p class="message">${ text }</p></toast>`;let div=document.createElement('div');div.innerHTML=html;return div.firstChild},showToast:function(type,text,stayTime){var toast=self.create(type,text);if(self.location.includes('bottom')){self.container.append(toast)}else{self.container.prepend(toast)}
setTimeout(function(){toast.classList.add('active');if(stayTime)setTimeout(()=>self.hide(toast),stayTime)},10)},show:function(type,text,raw){if(isObject(type)){text=type.text||type.message;raw=type.raw||!1;type=type.status}
if(isObject(text)){text=text.text}
if(!(type in self.stayTimes))return;text=text||'Message undefined.';text=raw?text:i18n(text);self.showToast(type,text,self.stayTimes[type])},hide:function(toast){toast.classList='';toast.addEventListener('transitionend',toast.remove)}};carbon.subscribe('system.loadVital',()=>self.init());atheos.toast=self;window.toast=atheos.toast.show})();
